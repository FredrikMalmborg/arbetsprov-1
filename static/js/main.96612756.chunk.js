(this["webpackJsonparbetsprov-1"]=this["webpackJsonparbetsprov-1"]||[]).push([[0],{16:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),o=n(8),a=n.n(o),s=(n(22),n(23),n(16),n(3)),i=n.n(s),u=n(5),l=n(4),j="CREATE_POST_REQUESTS",d="CREATE_POST_SUCCESS",b="CREATE_POST_FAILURE",p="DELETE_POST_REQUESTS",O="DELETE_POST_SUCCESS",h="DELETE_POST_FAILURE",f="FETCH_POSTS_REQUESTS",y="FETCH_POSTS_SUCCESS",m="FETCH_POSTS_FAILURE",x="SHOW_MORE",v="SET_SHOWCASE",S="CLOSE_SHOWCASE",E=n(0),g=function(e){return{background:"hsl(".concat(e*Math.PI,", 42%, 60%)")}},C=function(e){var t=e.post,n=Object(l.b)(),c=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("OPEN"),n({type:v,payload:t});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"post",onClick:function(){return c()},style:g(t.id),children:[Object(E.jsx)("h3",{className:"title",children:t.title}),Object(E.jsxs)("p",{className:"body",children:[" ",t.body]})]})},w=function(e){return{type:y,payload:e}},T=function(e){return{type:m,payload:e}},_=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e})),n=t.posts,r=t.showing,o=t.loading;return Object(c.useEffect)((function(){e(function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("FETCH"),t({type:f}),e.next=4,fetch("https://jsonplaceholder.typicode.com/posts").then((function(e){return e.json()})).then((function(e){t(w(e))})).catch((function(e){t(T(e.toString()))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),console.log(n),Object(E.jsx)("div",{className:"postWrapper",children:!o&&n.slice(0,r).map((function(e){return Object(E.jsx)(C,{post:e},"".concat(e.id))}))})};n(30);function k(e){var t=e.label,n=e.type,c=void 0===n?"block":n,r=e.onClick,o=e.disabled,a=function(){return!o&&r()};return"inline"===c?Object(E.jsx)("span",{className:"btn",onClick:a,style:{opacity:o?".3":"1"},children:t}):Object(E.jsx)("div",{className:"btn",onClick:a,style:{opacity:o?".3":"1"},children:t})}var N=n(6),P=n(10),F=n(2),L=function(){return{type:j}},R=function(e){return console.log("new post",e),{type:d,payload:e}},U=function(e){return{type:b,payload:e}},I=(n(31),function(){var e=Object(l.b)(),t=Object(c.useState)({title:"",body:""}),n=Object(N.a)(t,2),r=n[0],o=n[1],a=function(e,t){o(Object(F.a)(Object(F.a)({},r),{},Object(P.a)({},t,e)))};return Object(E.jsxs)("div",{className:"form_container",children:[Object(E.jsx)("input",{type:"text",className:"title",name:"title",placeholder:"Title",value:r.title,onChange:function(e){return a(e.target.value,"title")}}),Object(E.jsx)("textarea",{name:"body",className:"body",placeholder:"content",cols:40,rows:12,value:r.body,onChange:function(e){return a(e.target.value,"body")}}),Object(E.jsx)("div",{className:"button",children:Object(E.jsx)(k,{label:"SEND",onClick:function(){var t;e((t={title:r.title,body:r.body},function(){var e=Object(u.a)(i.a.mark((function e(n){var c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("CREATE"),c=t.body,r=t.title,n(L()),e.next=5,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify({title:r,body:c,userId:Math.round(50*Math.random())}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){console.log("SUCCESS",e),n(R(e))})).catch((function(e){n(U(e.toString()))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),o({title:"",body:""})},disabled:""===r.body||""===r.title})})]})});n(32);function A(){var e=Object(c.useState)(!1),t=Object(N.a)(e,2),n=t[0],r=t[1];return Object(E.jsxs)("header",{children:[Object(E.jsx)("div",{children:Object(E.jsxs)("h1",{className:n?"creating":"",children:["POSTS ",Object(E.jsx)(k,{label:n?"-":"+",onClick:function(){return r(!n)},type:"inline"})]})}),n&&Object(E.jsx)(I,{})]})}var H=function(){return{type:p}},D=function(e){return{type:O,payload:e}},M=function(e){return{type:h,payload:e}},W=(n(33),function(e){var t=e.comments;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("p",{children:"Comments"}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{className:"comments",children:t.length>0?t.map((function(e,t){return Object(E.jsxs)("div",{children:[Object(E.jsxs)("h5",{children:[e.name,Object(E.jsx)("br",{}),"by ",Object(E.jsx)("em",{children:e.email})]}),Object(E.jsx)("p",{children:e.body})]},t+e.postId)})):"no comments"})]})}),J=function(e){var t=e.user;return Object(E.jsxs)("div",{className:"user_wrapper",children:[Object(E.jsx)("div",{className:"user_profile"}),Object(E.jsxs)("div",{className:"user_info",children:[Object(E.jsxs)("h4",{children:[Object(E.jsx)("span",{children:"user:"}),(null===t||void 0===t?void 0:t.username)||"unknown"]}),Object(E.jsxs)("p",{children:[Object(E.jsx)("span",{children:"email:"}),(null===t||void 0===t?void 0:t.email)||"unknown"]}),Object(E.jsxs)("p",{children:[Object(E.jsx)("span",{children:"phone:"}),(null===t||void 0===t?void 0:t.phone)||"unknown"]}),Object(E.jsxs)("p",{children:[Object(E.jsx)("span",{children:"website:"}),(null===t||void 0===t?void 0:t.website)||"unknown"]}),Object(E.jsxs)("p",{children:[Object(E.jsx)("span",{children:"company:"}),(null===t||void 0===t?void 0:t.company)?Object(E.jsxs)(E.Fragment,{children:[t.company.name+" | "+t.company.bs,Object(E.jsx)("em",{children:' -"'+t.company.catchPhrase+'"'})]}):"unknown"]}),Object(E.jsx)("hr",{style:{marginTop:"1em"}})]})]})},Q=function(e){return{borderLeft:"1em solid hsl(".concat(e*Math.PI,", 42%, 60%)")}},B=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.showcase})),n=function(){return e({type:S})},r=function(t){console.log("deletePost"),e(function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("DELETE"),n(H()),t.next=4,fetch("https://jsonplaceholder.typicode.com/posts/".concat(e),{method:"DELETE"}).then((function(e){return e.json()})).then((function(t){n(D(e))})).catch((function(e){n(M(e.toString()))}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t)),n()},o=Object(c.useState)(null),a=Object(N.a)(o,2),s=a[0],j=a[1],d=Object(c.useState)([]),b=Object(N.a)(d,2),p=b[0],O=b[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(u.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://jsonplaceholder.typicode.com/users/".concat(null===t||void 0===t?void 0:t.id),e.next=3,fetch(n).then((function(e){return e.json()})).then((function(e){console.log("USE",e),j(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(u.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://jsonplaceholder.typicode.com/posts/".concat(null===t||void 0===t?void 0:t.id,"/comments"),e.next=3,fetch(n).then((function(e){return e.json()})).then((function(e){return O(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t&&(e(),n())}),[t]),t?Object(E.jsx)("div",{className:"modal_wrapper",onClick:function(){return n()},children:Object(E.jsxs)("article",{style:Q(t.id),onClick:function(e){return e.stopPropagation()},children:[Object(E.jsx)(J,{user:s}),Object(E.jsxs)("div",{className:"modal_content",children:[Object(E.jsx)("h3",{children:t.title}),Object(E.jsxs)("p",{children:[" ",t.body+t.body+t.body," "]})]}),Object(E.jsx)(W,{comments:p}),Object(E.jsx)("div",{className:"delete_btn",onClick:function(){return r(t.id)},children:"delete post"})]})}):Object(E.jsx)(E.Fragment,{})};var q=function(){var e=Object(l.b)();return Object(E.jsxs)("main",{children:[Object(E.jsx)(A,{}),Object(E.jsx)(_,{}),Object(E.jsx)(B,{}),Object(E.jsx)(k,{label:"show more",onClick:function(){return e({type:"SHOW_MORE"})},type:"block"})]})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),o(e),a(e)}))},G=n(15),K=n(17),V=n(14),X={loading:!1,posts:[],showcase:null,showing:10,error:""},Y=Object(G.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(F.a)(Object(F.a)({},e),{},{loading:!0});case y:return Object(F.a)(Object(F.a)({},e),{},{loading:!1,posts:t.payload,error:""});case m:return Object(F.a)(Object(F.a)({},e),{},{loading:!1,posts:[],error:t.payload});case j:return Object(F.a)(Object(F.a)({},e),{},{loading:!0});case d:return Object(F.a)(Object(F.a)({},e),{},{loading:!1,posts:[t.payload].concat(Object(V.a)(e.posts)),error:""});case b:return Object(F.a)(Object(F.a)({},e),{},{loading:!1,error:t.payload});case p:return Object(F.a)(Object(F.a)({},e),{},{loading:!0});case O:var n=Object(V.a)(e.posts),c=n.findIndex((function(e){return e.id===t.payload}));return n.splice(c,1),Object(F.a)(Object(F.a)({},e),{},{loading:!1,posts:n,error:""});case h:return Object(F.a)(Object(F.a)({},e),{},{loading:!1,error:t.payload});case v:return Object(F.a)(Object(F.a)({},e),{},{showcase:t.payload});case S:return Object(F.a)(Object(F.a)({},e),{},{showcase:null});case x:return Object(F.a)(Object(F.a)({},e),{},{showing:e.showing+10});default:return e}}),Object(G.a)(K.a));a.a.render(Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(l.a,{store:Y,children:Object(E.jsx)(q,{})})}),document.getElementById("root")),z()}},[[34,1,2]]]);
//# sourceMappingURL=main.96612756.chunk.js.map